import{_ as s,o as n,c as a,e}from"./app.68e824a5.js";const t={},p=e(`<h3 id="webp\u9AD8\u7EA7\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#webp\u9AD8\u7EA7\u6982\u5FF5" aria-hidden="true">#</a> Webp\u9AD8\u7EA7\u6982\u5FF5</h3><ol><li>Tree-Shaking \u6447\u6811 \u6253\u5305\u540E\uFF0C\u5220\u9664\u6CA1\u6709\u88AB\u5F15\u7528\u6216\u6267\u884C\u7684\u6A21\u5757\uFF0C\u51CF\u5C11\u4EE3\u7801\u4F53\u79EF</li></ol><pre><code>&lt;!-- wabpack\u914D\u7F6E\uFF1Aoptimitation:{ usedExports:true } --&gt;
&lt;!-- package.json\uFF1A sideEffects:false, --&gt;
</code></pre><ol start="2"><li>Code-Splitting \u4EE3\u7801\u5206\u5272 \u5C06\u6240\u6709\u7684\u4EE3\u7801\u90FD\u653E\u5728\u4E00\u4E2A\u6587\u4EF6\u4E2D\u663E\u7136\u662F\uF967\u591F\u6709\u6548\u7684,\u5355\u6587\u4EF6\u4F53\u79EF\u592A\u5927 webpack \u6709\u4E00\u4E2A\u529F\u80FD\u5C31\u662F\u5C06\u4F60\u7684\u4EE3\u7801\u5E93\u5206\u5272\u6210 chunks(\u8BED\u5757)\uFF0C\u5F53\u4EE3\u7801\u8FD0\uFA08\u5230\u9700\u8981\u5B83\u4EEC\u7684\u65F6\u5019\u518D\u8FDB\uFA08\u52A0\u8F7D\u3002</li></ol><pre><code>&lt;!-- wabpack\u914D\u7F6E\uFF1Aoptimitation:{ splitChunks:{ chunks: &#39;all&#39; } } --&gt;
&lt;!-- import() \u6216 require.sure() \u5F02\u6B65\u52A0\u8F7D\u7684\u4EE3\u7801\uFF0C\u4F1A\u9ED8\u8BA4\u653E\u5230\u5355\u72EC\u7684chunks\u4E2D\u53BB --&gt;
</code></pre><ol start="3"><li><p>Lazing-Loading \u61D2\u52A0\u8F7D \u5173\u4E8E\u61D2\u52A0\u8F7D\u7684\u6211\u4EEC\u5176\u5B9E\u4E4B\u524D\u51E0\u8282\u8BFE\u4E0A\u9762\u90FD\u6709\u7528\u5230\uFF0C\u5176\u5B9E\u5C31\u662F\u4EE3\u7801\u7684\u5F02\u6B65\u5F15\u5165\u3002</p></li><li><p>CSS \u6587\u4EF6\u7684\u4EE3\u7801\u5206\u5272 \u4E4B\u524D\u6211\u4EEC\u5199\u7684 css \u4EE3\u7801\u90FD\u662F\u76F4\u63A5\u88AB\u6253\u5305\u5230 js \u6587\u4EF6\u4E2D\u53BB\u7684\uFF0C\u7136\u540E\u4F7F\u7528 style-loader\uFF0C\u4EE5 &lt; style&gt; \u6807\u7B7E\u7684\u5F62\u5F0F \u5C06 css \u63D2\u5165\u5230 dom \u4E2D\u3002 \u4F46\u662F\u5E76\u6CA1\u6709\u5355\u72EC\u7684\u6253\u5305\u51FA\u4E00\u4E2A css \u6587\u4EF6\uFF0C\u4EE3\u7801\u5206\u5272\u5C06\u5355\u72EC\u6253\u5305\u51FA css \u6587\u4EF6\u3002</p></li><li><p>\u533A\u5206\u6253\u5305 \u4E0D\u540C\u73AF\u5883\u7528\u4E0D\u540C\u914D\u7F6E\u6587\u4EF6\uFF0C\u901A\u8FC7webpack-merge\u6765\u5408\u5E76\u516C\u5171\u914D\u7F6E\u6587\u4EF6</p></li><li><p>\u663E\u793A\u65E5\u5FD7\u548C\u5F02\u5E38\u5904\u7406\u4F18\u5316 \u5728 webpack \u4E2D\u6709\u4E00\u4E2A\u914D\u7F6E stats\uFF0C\u4ED6\u7684\u610F\u601D\u662F\uFF1A \u5982\u679C\u4F60\u4E0D\u5E0C\u671B\u4F7F\u7528 quiet \u6216 noInfo \u8FD9\u6837\u7684\u4E0D\u663E\u793A\u4FE1\u606F\uFF0C\u800C\u662F\u53C8\u4E0D\u60F3\u5F97\u5230\u5168\u90E8\u7684\u4FE1\u606F\uFF0C\u53EA\u662F\u60F3\u8981\u83B7\u53D6\u67D0\u90E8\u5206 bundle \u7684\u4FE1\u606F\uFF0C\u4F7F\u7528 stats \u9009\u9879\u662F\u6BD4\u8F83\u597D\u7684\u6298\u8877\u65B9\u5F0F\u3002</p></li><li><p>\u6253\u5305\u5206\u6790 \u4E0E Preloading\u3001Prefetching</p></li></ol><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>  <span class="token string-property property">&quot;bundle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack webpack --profile --json &gt; stats.json --config ./config/webpack.dev.js&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><pre><code>\u8FD9\u53E5\u8BDD\u7684\u610F\u601D\u5C31\u662F\u4F7F\u7528 webpack \u6253\u5305\u7684\u8FC7\u7A0B\u7684\u4E00\u4E9B\u6587\u4EF6\u653E\u5230 stats.json \u4E2D\u53BB\u3002
\u6211\u4EEC\u6253\u5305\u4E00\u4E0B npm run bundle\uFF0C\u9875\u9762\u6839\u76EE\u5F55\u4E0B\u4F1A\u751F\u6210 stats.json \u63CF\u8FF0\u6027\u6587\u4EF6\u3002
\u6211\u4EEC\u901A\u8FC7\u5B98\u7F51\u63D0\u4F9B\u7684 stats.json \u5206\u6790\u5DE5\u5177 (opens new window)\u8FDB\u884C\u5206\u6790\uFF1A
</code></pre><ol start="8"><li><p>shimming \u57AB\u7247 * \u5176\u5B9E\u5C31\u662F\u6539\u53D8\u4E86 webpack \u4E2D\u7684\u4E00\u4E9B\u9ED8\u8BA4\u7684\u7279\u6027\u6216\u8005\u884C\u4E3A\uFF0C\u8FD9\u5176\u5B9E\u4E5F\u662F\u4E00\u4E2A \u57AB\u7247 \u7684\u4F5C\u7528\u3002</p><ol><li><p>@babel/polyfill \u5C31\u662F\u4E00\u4E2A \u57AB\u7247\uFF0C\u4ED6\u80FD\u89E3\u51B3 webpack \u6253\u5305\u8FC7\u7A0B\u4E2D\u7684\u4E00\u4E9B\u517C\u5BB9\u6027\u7684\u95EE\u9898\uFF0C\u4F46\u8FD9\u4EC5\u4EC5\u662F\u6D4F\u89C8\u5668\u517C\u5BB9\u6027\uFF0C\u8FD8\u6709\u5176\u4ED6\u5404\u79CD\u5404\u6837\u7684\u517C\u5BB9\u6027\u57AB\u7247\u3002</p></li><li><p>webpack.ProvidePlugin \u5B9A\u4E49\u5168\u5C40\u53D8\u91CF\uFF0C\u5F53\u9047\u5230\u5B9A\u4E49\u53D8\u91CF\uFF0C\u5C31\u81EA\u52A8\u5F15\u7528\u6307\u5B9A\u6A21\u5757</p></li></ol><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>  <span class="token keyword">new</span> <span class="token class-name">webpack</span><span class="token punctuation">.</span><span class="token function">ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    $<span class="token operator">:</span> <span class="token string">&#39;jquery&#39;</span><span class="token punctuation">,</span>
    _<span class="token operator">:</span> <span class="token string">&#39;lodash&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>imports-loader \u5B9A\u4E49this\u7684\u6307\u5411\uFF0Ceg:\u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u4E2D\u770B\u5230\u73B0\u5728\u7684 this \u6307\u5411\u4E86 window\u3002</li></ol><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> 
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> 
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> 
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#39;imports-loader?this=&gt;window&#39;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token operator">...</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol>`,9),i=[p];function l(o,c){return n(),a("div",null,i)}var d=s(t,[["render",l],["__file","Webp\u9AD8\u7EA7\u6982\u5FF5.html.vue"]]);export{d as default};
