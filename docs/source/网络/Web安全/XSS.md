### XSS
  1. 概要：跨站脚本攻击 (Cross site scripting)
      * XSS 通过参数注入恶意代码到第一方网站上
      * xss：用户通过各种方式将恶意代码注入到其他用户的页面中。就可以通过脚本获取信息，发起请求，之类的操作。

    介绍：
      XSS：跨站脚本攻击，即CSS。利用网页开发时留下的漏洞（web应用程序对用户的输入过滤不足），巧妙的将恶意的代码注入到网页中，使用户浏览器加载并执行恶意制造的代码，以达到攻击的效果。这恶意的代码通常是JS代码，但实际上也可以是JAVA、VBS、ActiveX、Flash或者是普通的HTML。（浏览器不会判断，只要是符合解析，那么就会执行恶意的代码）。可能存在XSS的地方：微博、留言板、聊天室等收集用户输入的地方都可能遭受XSS攻击的风险。只要你对用户的输入没有严格过滤。

  2. XSS攻击场景：
      盗取各种用户的账号、窃取用户的cookie然后冒充用户甚至是管理员进入网站、劫持用户会话，执行任意操作、刷流量，广告弹窗、网页挂马传播蠕虫病毒、记录用户键盘输入。
      盗取受害者cookie，登录他的账户，这个cookie很可能是某个大企业多子域通用的，等于他很多业务的账号被你瞬间劫持。
      apt攻击中，XSS可以用来探测内网环境，侦查对于apt其实还蛮重要的。
      可以钓鱼，操控js代码可以动态生成一个html覆盖在你当前页面。
      可以偷你当前页面的重要数据，偷偷回传到攻击者服务器。
      可以挖矿，js挖矿。

      * eg:
        1. 假设有一个博客网站，我发表一篇博客，其中嵌入< script>脚本
        2. 脚本内容：获取cookie 发送到我的服务器（服务器配合跨域）
        3. 发布这篇文章，有人查看它，我轻松收割访问者的cookie
        4. 可以 **< script>document.cookie</>** 获取到当前域名的cookie，然后发送给攻击者的
        服务器，攻击者的服务器提前设置好允许跨域。


  3. XSS攻击类型：
      1. 反射型XSS： 
          非持久型，当我们访问网站的时候，攻击者在网站上留有恶意链接，当用户点击链接，会访问攻击者预设的目标服务器，服务器返回恶意代码，浏览器接受恶意代码执行，以此来获取用户的cookie或token等信息(可配合短链接实现钓鱼)（对应的数据流向是：浏览器---后端---浏览器）
          * 诱导用户点击恶意链接，访问恶意服务器，返回恶意代码，攻击浏览器
          * 恶意用户输入恶意代码，服务器未过滤，返回客户端，执行恶意代码，可以获取cookie并发送恶意请求
          
      2. 存储型XSS： 
          持久型，攻击者将恶意代码通过浏览器输入发送给服务端，服务端未过滤，存储到数据库，当其他用户请求服务端访问这些数据的时候，数据返回到浏览器，恶意代码都会执行，即都会被恶意代码攻击(可以是窃取用户的cookie或其他信息)（数据流向：浏览器---后端---数据库---后端---浏览器）
          * 客户端存入恶意代码，到服务器缓存，用户访问到这些数据时会被无差别攻击
          * 与反射型最大区别是：反射型的恶意代码不存入后台服务器，是存在攻击方的服务器，是针对性的攻击；存储型的恶意代码是存在后台服务器的，所以会无差别攻击。

      3. DOM型XSS：
          跟前两者不同的是，它不需要发送到服务器，直接注入恶意代码去操作浏览器DOM

  4. 防止XSS攻击：
      前后端过滤输入代码
      






[原文链接：xss](https://blog.csdn.net/qq_55213436/article/details/124050263)
https://catcat.cc/post/2020-06-23/
