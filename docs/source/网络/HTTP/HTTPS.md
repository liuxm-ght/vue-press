### HTTPS
  介绍：
    由于HTTP是明文传输的，那么存在诸多不安全因素，因此产生了HTTPS
    HTTPS 其实就是在HTTP基础上多了一层，安全传输层SSL/TLS。即 HTTPS = HTTP + SSL/TLS (更全 HTTPS = HTTP + 加密 + 认证 + 完整性保护)

  1. 对称性加密
      * 对称加密，顾名思义就是 加密 和 解密 都是使用同一个密钥。
      常见的对称加密算法有 DES、3DES 和 AES 等，其优缺点如下：
        优点：
          <!-- 算法公开、计算量小、加密速度快、加密效率高，适合加密比较大的数据。 -->
        缺点：
          交易双方需要使用相同的密钥，也就无法避免密钥的传输，而密钥在传输过程中无法保证不被截获，因此对称加密的安全性得不到保证。
          每对用户每次使用对称加密算法时，都需要使用其他人不知道的惟一密钥，这会使得发收信双方所拥有的钥匙数量急剧增长，密钥管理成为双方的负担。对称加密算法在分布式网络系统上使用较为困难，主要是因为密钥管理困难，使用成本较高。
      <!-- https://juejin.cn/post/6844904038253740046 -->
      这个密钥可能是浏览器生成传给服务端，也可以是反过来，但都有个问题是密钥的传输过程是进过很多网络节点的，这样容易被他人获取。

  2. 非对称性加密
      * 非对称加密，顾名思义，就是加密和解密需要使用两个不同的密钥：公钥（public key）和私钥（private key）。
      公钥与私钥是一对，如果用公钥对数据进行加密，那么只能用私钥来进行解密。如果私钥加密数据，只能公钥来解密。
        优点：算法公开，加密和解密使用不同的钥匙，私钥不需要通过网络进行传输，安全性很高。
        缺点：计算量比较大，加密和解密速度相比对称加密要慢很多。
        <!-- https://juejin.cn/post/6844904038253740046 -->

  3. HTTPS加密过程(SSL/TLS)
      HTTPS加密过程其实主要的就是SSL/TLS握手的过程：
        1. 客户端请求服务器，服务器返回CA证书(包含了： 公钥A 文件信息 加密后的摘要信息(数字签名过程))
        2. 客户端拿到CA证书，会进行数字验证，成功后获取公钥A
        3. 生成随机key(对称性加密用到的key，可加密又可解密)，用公钥A进行加密
        4. 将加密后的key发送给服务端，服务端获取后用私钥B进行解析，得到key
        5. 之后的双方通讯都是用这个key去加密信息，然后传输。
      总结：
        1. 非对称性加密传输对称性加密的key
        2. 对称性加密加密信息，传输真正的内容
        3. 其实CA证书也是被CA私钥加密了的(CA私钥存在服务器，要买来的)，浏览器拿到CA证书需要CA公钥解密才能获取证书内容，而浏览器是权威机构，所以都有CA公钥。(为了防止中间人攻击)
      * 注意概念：
          两个私钥，一个是解密CA证书的私钥(权威机构颁发证书时生成在权威机构拥有)，一个是解密非对称加密的私钥(服务器拥有，用于非对称加密加密对称加密key)
        <!-- https://juejin.cn/post/6844904046063517704
        https://juejin.cn/post/6844904038253740046#heading-2 -->
      <!-- 就是 混合加密：
        1. 客户端请求服务器获取CA数字证书（包含 公钥A ，服务器保持私钥B）；
        2. 客户端解析CA证书(如何解析？客户端有一系列的CA证书列表，可以拿到CA的公钥用来验证证书的合法性，服务器拥有CA的私钥来加密摘要形成数字签名)，合法后，获取公钥A，生成随机码Key（对称性加密的Key），用公钥A对Key进行加密，传给服务器；
        3. 服务器拿到经公钥A加密的Key后，用私钥B进行解析，拿到Key；
        4. 之后，服务器用Key加密信息与客户端进行通讯（对称性加密通讯）。 -->
        <!-- https://juejin.cn/post/6844904038253740046 -->

  4. HTTPS 和 HTTP 的区别：
      1. 最最重要的区别就是安全性，HTTP 明文传输，不对数据进行加密安全性较差。HTTPS (HTTP + SSL / TLS)的数据传输过程是加密的，安全性较好。
      5. 使用 HTTPS 协议需要申请 CA 证书，一般免费证书较少，因而需要一定费用。证书颁发机构如：Symantec、Comodo、DigiCert 和 GlobalSign 等。
      2. HTTP 页面响应速度比 HTTPS 快，这个很好理解，由于加了一层安全层，建立连接的过程更复杂，也要交换更多的数据，难免影响速度。
      3. 由于 HTTPS 是建构在 SSL / TLS 之上的 HTTP 协议，所以，要比 HTTP 更耗费服务器资源。
      4. HTTPS 和 HTTP 使用的是完全不同的连接方式，用的端口也不一样，前者是 443，后者是 80。

  5. HTTPS 的缺点：
      1. 在相同网络环境中，HTTPS 相比 HTTP 无论是响应时间还是耗电量都有大幅度上升。
      2. HTTPS 的安全是有范围的，在黑客攻击、服务器劫持等情况下几乎起不到作用。
      3. 在现有的证书机制下，中间人攻击依然有可能发生。
      4. HTTPS 需要更多的服务器资源，也会导致成本的升高。

  6. 扩展： 
      1. 数字证书
          包含： 
            文件内容 公钥A 加密摘要
      2. 数字签名
          服务器使用CA私钥对 由文件生成的128位摘要进行加密的过程 称为数字签名的过程，得到的"加密的摘要"，称为该文件的数据签名。
          三个特点: 
            1. 不可否认——只有用户A拥有私钥A，并能使用私钥A产生"加密的摘要"，这样用户A就不能否认给用户B发送了经过签名的密文。
            2. 报文的完整性——用户B通过比较得出的两份摘要是否相等，可以判断签名或文件内容是否发生改变。
            3. 报文鉴别——用户B可以使用收到的公钥对"加密的摘要"进行解密，从而核实用户A对文件的签名。
      3. 数字签名验证过程
          1. 服务端，对CA数字证书内容进行 单向散列函数计算 生成 128位的摘要
          2. 用CA私钥B(不是非对称私钥B‘)对 128位的摘要 进行加密，得到加密后摘要
          3. 客户端，收到CA数字证书(包含 文件内容、加密摘要、公钥A’)，进行数字签名验证
          4. 客户端，用CA公钥A对加密摘要进行解密得到128位的摘要，对文件内容进行 单向散列函数计算生成128位的摘要，比对两个摘要是否相同，一样，没改动，不一样，被人改动了
          <!-- https://www.cnblogs.com/itps/p/12359865.html -->

  7. 安全问题
      <!-- https://www.cnblogs.com/jojop/p/14111938.html -->
      1. 中间人攻击：
          1. 某网站拥有用于非对称加密的公钥A、私钥A’ ；
          2. 浏览器向网站服务器发起请求，服务器把公钥 A 明文给传输浏览器；
          3. 中间人劫持到公钥A，保存下来，把数据包中的公钥A替换成自己伪造的公钥B（它当然也拥有公钥B对应的私钥B’）；
          4. 浏览器随机生成一个用于对称加密的密钥X，用公钥B（浏览器不知道公钥被替换了）加密后传给服务器；
          5. 中间人劫持后用私钥 B’ 解密得到密钥 X，再用公钥 A 将 X 加密后传给服务器；
          6. 服务器拿到后用私钥A’解密得到密钥X。
          这样在双方都不会发生异常的情况下，中间人得到了密钥 X，这其中的根本原因就是浏览器无法确认自己收到的公钥是不是网站的。那么接下来就是要解决这一问题。
          <!-- 也就是说，在这个过程中，中间人可以篡改文件内容，生成新的128位摘要，用自己的私钥B'对其加密，生成加密摘要给浏览器 -->
          * 如何防止中间人攻击？
            1. 对CA证书也进行CA私钥加密，只能浏览器CA公钥解密后才能获取CA证书。
          * 但是问题来了，中间人也可能是浏览器，有CA公钥，它篡改了怎么办？
            1. 虽然中间人可以篡改CA证书内容，但是它没有CA私钥不能解密CA证书加密摘要，即无法篡改CA证书的数字签名，所以浏览器收到证书后，用证书内容进行单向散列计算生成128位的摘要，然后用浏览器CA公钥对加密摘要进行解密得到128位的摘要，发现原文和解密后的128摘要值不一样，说明CA证书被篡改了。

  8. HTTPS的请求过程
      1. 客户端向服务器发起 HTTPS 请求，连接到服务器的 443 端口；
      2. 服务器端有一个密钥对，即公钥和私钥，是用来进行非对称加密使用的，服务器端保存着私钥，不能将其泄露，公钥可以发送给任何人；
      3. 服务器将自己的公钥包含在权威机构发布的证书中发送给客户端；
      4. 客户端收到服务器端的证书之后，会对证书进行检查，验证其合法性，如果发现发现证书有问题，那么HTTPS传输就无法继续。严格的说，这里应该是验证服务器发送的数字证书的合法性，关于客户端如何验证数字证书的合法性。如果公钥合格，那么客户端会生成一个随机值，这个随机值就是用于进行对称加密的密钥，我们将该密钥称之为client key，即客户端密钥，这样在概念上和服务器端的密钥容易进行区分。然后用服务器的公钥对客户端密钥进行非对称加密，这样客户端密钥就变成密文了，至此，HTTPS中的第一次HTTP请求结束；
      5. 客户端会发起 HTTPS 中的第二个 HTTP 请求，将被公钥所加密之后的客户端密钥发送给服务器；
      6. 服务器接收到客户端发来的密文之后，会用自己的私钥对其进行非对称解密，解密之后的明文就是客户端密钥，然后用客户端密钥对数据进行对称加密，这样数据就变成了密文。
      7. 然后服务器用对称加密的密钥（即客户端密钥）对报文进行加密，并将加密后的报文发送给客户端；
      8. 客户端收到服务器发送来的密文，用客户端密钥对其进行对称解密，得到服务器发送的数据。这样 HTTPS 中的第二个 HTTP 请求结束，整个 HTTPS 传输完成。

  9. HTTP/2 有哪些改进？
      由于 HTTPS 在安全方面已经做的非常好了，HTTP 改进的关注点放在了性能方面。对于 HTTP/2 而言，它对于性能的提升主要在于两点:
        头部压缩
        多路复用
      当然还有一些颠覆性的功能实现:
        设置请求优先级
        服务器推送
      这些重大的提升本质上也是为了解决 HTTP 本身的问题而产生的。接下来我们来看看 HTTP/2 解决了哪些问题，以及解决方式具体是如何的。

      然后简述下http2.0的一些特性：
        多路复用（即一个tcp/ip连接可以请求多个资源）
        首部压缩（http头部压缩，减少体积）
        二进制分帧（在应用层跟传送层之间增加了一个二进制分帧层，改进传输性能，实现低延迟和高吞吐量）
        服务器端推送（服务端可以对客户端的一个请求发出多个响应，可以主动通知客户端）
        请求优先级（如果流被赋予了优先级，它就会基于这个优先级来处理，由服务器决定需要多少资源来处理该请求。）
      <!-- 链接：https://juejin.cn/post/6844904100035821575 -->